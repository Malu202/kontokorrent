{"version":3,"sources":["webpack://kontokorrent/./src/sw.ts"],"names":["cacheName","self","addEventListener","event","cacheAssets","asset","__WB_MANIFEST","map","v","url","push","waitUntil","caches","open","then","cache","addAll","keys","cacheNames","Promise","all","thisCacheName","delete","request","mode","respondWith","match","response","fetch","method"],"mappings":"mBAQA,MAAM,EAAY,KAElB,KAAK,iBAAiB,WAAW,SAAU,GACvC,MAAM,EAAc,CAChB,0DACA,2EACJ,IAAK,IAAI,KAAS,i+DAAK,cAAc,KAAI,GAAK,EAAE,MAC5C,EAAY,KAAK,GAErB,EAAM,UACF,OAAO,KAAK,GACP,MAAK,SAAU,GACZ,OAAO,EAAM,OAAO,UAKpC,KAAK,iBAAiB,YAAY,IAC9B,EAAM,UACF,OAAO,OAAO,MAAK,SAAU,GACzB,OAAO,QAAQ,IAAI,EAAW,KAAI,SAAU,GACxC,GAAI,IAAkB,EAClB,OAAO,OAAO,OAAO,cAOzC,KAAK,iBAAiB,SAAS,SAAU,GACrC,GAA2B,aAAvB,EAAM,QAAQ,KASlB,EAAM,YACF,OAAO,MAAM,EAAM,SAAS,MAAK,SAAU,GACvC,OAAO,GAAY,MAAM,EAAM,iBAXvC,CACI,GAA6B,QAAzB,EAAM,QAAQ,OACd,OAEJ,EAAM,YAAY,OAAO,MAAM,aAAc,CAAE,UAAW,IAAa,MAAK,GACjE,GAAY,MAAM,EAAM","file":"sw.js","sourceRoot":"","sourcesContent":["export default null;\ndeclare var self: ServiceWorkerGlobalScope;\ndeclare global {\n    interface WorkerGlobalScope {\n        __WB_MANIFEST: Array<{ revision: null, url: string }>;\n    }\n}\n\nconst cacheName = \"v6\";\n\nself.addEventListener(\"install\", function (event) {\n    const cacheAssets = [\n        \"https://fonts.googleapis.com/icon?family=Material+Icons\",\n        \"https://fonts.googleapis.com/css?family=Roboto:300,400,500&display=swap\"];\n    for (let asset of self.__WB_MANIFEST.map(v => v.url)) {\n        cacheAssets.push(asset);\n    }\n    event.waitUntil(\n        caches.open(cacheName)\n            .then(function (cache) {\n                return cache.addAll(cacheAssets);\n            })\n    );\n});\n\nself.addEventListener(\"activate\", event => {\n    event.waitUntil(\n        caches.keys().then(function (cacheNames) {\n            return Promise.all(cacheNames.map(function (thisCacheName) {\n                if (thisCacheName !== cacheName) {\n                    return caches.delete(thisCacheName);\n                }\n            }));\n        }));\n})\n\n\nself.addEventListener(\"fetch\", function (event) {\n    if (event.request.mode === \"navigate\") {\n        if (event.request.method !== \"GET\") {\n            return;\n        }\n        event.respondWith(caches.match(\"index.html\", { cacheName: cacheName }).then(response => {\n            return response || fetch(event.request);\n        }));\n        return;\n    }\n    event.respondWith(\n        caches.match(event.request).then(function (response) {\n            return response || fetch(event.request);\n        })\n    );\n});"]}