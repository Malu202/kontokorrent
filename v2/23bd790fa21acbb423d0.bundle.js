(self.webpackChunkkontokorrent=self.webpackChunkkontokorrent||[]).push([[803],{9870:(e,t,n)=>{"use strict";n.d(t,{Jj:()=>u});const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),a=Symbol("Comlink.releaseProxy"),s=Symbol("Comlink.thrown"),i=e=>"object"==typeof e&&null!==e||"function"==typeof e,c=new Map([["proxy",{canHandle:e=>i(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return u(e,t),[n,[n]]},deserialize:e=>(e.start(),d(e,[],undefined))}],["throw",{canHandle:e=>i(e)&&s in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function u(e,t=self){t.addEventListener("message",(function n(o){if(!o||!o.data)return;const{id:a,type:i,path:c}=Object.assign({path:[]},o.data),p=(o.data.argumentList||[]).map(h);let d;try{const t=c.slice(0,-1).reduce(((e,t)=>e[t]),e),n=c.reduce(((e,t)=>e[t]),e);switch(i){case 0:d=n;break;case 1:t[c.slice(-1)[0]]=h(o.data.value),d=!0;break;case 2:d=n.apply(t,p);break;case 3:d=function(e){return Object.assign(e,{[r]:!0})}(new n(...p));break;case 4:{const{port1:t,port2:n}=new MessageChannel;u(e,n),d=function(e,t){return m.set(e,t),e}(t,[t])}break;case 5:d=void 0}}catch(e){d={value:e,[s]:0}}Promise.resolve(d).catch((e=>({value:e,[s]:0}))).then((e=>{const[r,o]=g(e);t.postMessage(Object.assign(Object.assign({},r),{id:a}),o),5===i&&(t.removeEventListener("message",n),l(t))}))})),t.start&&t.start()}function l(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function p(e){if(e)throw new Error("Proxy has been released and is not useable")}function d(e,t=[],n=function(){}){let r=!1;const s=new Proxy(n,{get(n,o){if(p(r),o===a)return()=>v(e,{type:5,path:t.map((e=>e.toString()))}).then((()=>{l(e),r=!0}));if("then"===o){if(0===t.length)return{then:()=>s};const n=v(e,{type:0,path:t.map((e=>e.toString()))}).then(h);return n.then.bind(n)}return d(e,[...t,o])},set(n,o,a){p(r);const[s,i]=g(a);return v(e,{type:1,path:[...t,o].map((e=>e.toString())),value:s},i).then(h)},apply(n,a,s){p(r);const i=t[t.length-1];if(i===o)return v(e,{type:4}).then(h);if("bind"===i)return d(e,t.slice(0,-1));const[c,u]=f(s);return v(e,{type:2,path:t.map((e=>e.toString())),argumentList:c},u).then(h)},construct(n,o){p(r);const[a,s]=f(o);return v(e,{type:3,path:t.map((e=>e.toString())),argumentList:a},s).then(h)}});return s}function f(e){const t=e.map(g);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const m=new WeakMap;function g(e){for(const[t,n]of c)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:3,name:t,value:r},o]}return[{type:0,value:e},m.get(e)||[]]}function h(e){switch(e.type){case 3:return c.get(e.name).deserialize(e.value);case 0:return e.value}}function v(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}},3032:(e,t,n)=>{"use strict";n.d(t,{Wg:()=>r.u,X3:()=>o});var r=n(2056);function o(e,t,{blocked:n,upgrade:o,blocking:a,terminated:s}={}){const i=indexedDB.open(e,t),c=(0,r.w)(i);return o&&i.addEventListener("upgradeneeded",(e=>{o((0,r.w)(i.result),e.oldVersion,e.newVersion,(0,r.w)(i.transaction))})),n&&i.addEventListener("blocked",(()=>n())),c.then((e=>{s&&e.addEventListener("close",(()=>s())),a&&e.addEventListener("versionchange",(()=>a()))})).catch((()=>{})),c}const a=["get","getKey","getAll","getAllKeys","count"],s=["put","add","delete","clear"],i=new Map;function c(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(i.get(t))return i.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=s.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!a.includes(n))return;const c=async function(e,...t){const a=this.transaction(e,o?"readwrite":"readonly");let s=a.store;r&&(s=s.index(t.shift()));const i=await s[n](...t);return o&&await a.done,i};return i.set(t,c),c}(0,r.r)((e=>({...e,get:(t,n,r)=>c(t,n)||e.get(t,n,r),has:(t,n)=>!!c(t,n)||e.has(t,n)})))},2056:(e,t,n)=>{"use strict";let r,o;n.d(t,{r:()=>p,u:()=>m,w:()=>f});const a=new WeakMap,s=new WeakMap,i=new WeakMap,c=new WeakMap,u=new WeakMap;let l={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return s.get(e);if("objectStoreNames"===t)return e.objectStoreNames||i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function p(e){l=e(l)}function d(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(m(this),e),f(a.get(this))}:function(...e){return f(t.apply(m(this),e))}:function(e,...n){const r=t.call(m(this),e,...n);return i.set(r,e.sort?e.sort():[e]),f(r)}:(e instanceof IDBTransaction&&function(e){if(s.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)}));s.set(e,t)}(e),n=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,l):e);var t,n}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(f(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&a.set(t,e)})).catch((()=>{})),u.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=d(e);return t!==e&&(c.set(e,t),u.set(t,e)),t}const m=e=>u.get(e)}}]);
//# sourceMappingURL=23bd790fa21acbb423d0.bundle.js.map