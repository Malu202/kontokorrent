{"version":3,"file":"775dd003f9e0a38d406a.bundle.js","mappings":"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","sources":["webpack://kontokorrent/./src/components/Login/Login.ts","webpack://kontokorrent/./src/components/Login/Login.html","webpack://kontokorrent/./src/components/convertLinks.ts","webpack://kontokorrent/./src/components/ui-components/popup/popup.ts","webpack://kontokorrent/./src/components/ui-components/tip-button/tip-button.ts","webpack://kontokorrent/./src/state/actions/KontokorrentHinzufuegenActionCreator.ts"],"sourcesContent":["import template from \"./Login.html\";\nimport { Store } from \"../../state/Store\";\nimport { ServiceLocator } from \"../../ServiceLocator\";\nimport { RoutingActionCreator, routingActionCreatorFactory } from \"../../state/actions/RoutingActionCreator\";\nimport { State } from \"../../state/State\";\nimport { convertLinks } from \"../convertLinks\";\nimport { AccountActionCreator, accountActionCreatorFactory } from \"../../state/actions/AccountActionCreator\";\nimport \"./Login.scss\";\nimport \"../ui-components/popup/popup\";\nimport \"../ui-components/tip-button/tip-button\";\nimport { KontokorrentHinzufuegenActionCreator, kontokorrentHinzufuegenActionCreatorFactory } from \"../../state/actions/KontokorrentHinzufuegenActionCreator\";\nimport { OeffentlicherNameParam } from \"../../routing/KontokorrentRouteResolver\";\n\nexport class Login extends HTMLElement {\n    store: Store;\n    subscription: () => void;\n    routingActionCreator: RoutingActionCreator;\n    private accountActionCreator: AccountActionCreator;\n    private eventInput: HTMLInputElement;\n    private loginButton: HTMLButtonElement;\n    private eventMissingError: HTMLDivElement;\n    private accountCreationFailed: HTMLDivElement;\n    private notFoundError: HTMLDivElement;\n    private kontokorrentHinzufuegenActionCreator: KontokorrentHinzufuegenActionCreator;\n    private processing: HTMLDivElement;\n    private homeButton: HTMLButtonElement;\n    private loginBox: HTMLDivElement;\n    private rendered = false;\n\n    constructor() {\n        super();\n    }\n\n    addServices(serviceLocator: ServiceLocator) {\n        this.store = serviceLocator.store;\n        this.routingActionCreator = routingActionCreatorFactory(serviceLocator);\n        this.accountActionCreator = accountActionCreatorFactory(serviceLocator);\n        this.kontokorrentHinzufuegenActionCreator = kontokorrentHinzufuegenActionCreatorFactory(serviceLocator);\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.rendered = true;\n            this.innerHTML = template;\n            this.loginButton = this.querySelector(\"#loginButton\");\n            this.homeButton = this.querySelector(\"#home-button\");\n            this.loginBox = this.querySelector(\"#login-box\");\n            this.eventMissingError = this.querySelector(\"#eventMissingError\");\n            this.accountCreationFailed = this.querySelector(\"#account-creation-failed\");\n            this.notFoundError = this.querySelector(\"#notFoundError\");\n            this.processing = this.querySelector(\"#processing\");\n            this.eventInput = this.querySelector(\"#eventInput\");\n            let searchParams = new URLSearchParams(window.location.search);\n            if (searchParams.has(OeffentlicherNameParam)) {\n                this.eventInput.value = searchParams.get(OeffentlicherNameParam);\n            }\n            convertLinks(this.querySelectorAll(\"a\"), this.routingActionCreator);\n        }\n        this.loginButton.addEventListener(\"click\", this.loginFuerEvent.bind(this));\n        this.subscription = this.store.subscribe(null, state => this.applyStoreState(state));\n        this.applyStoreState(this.store.state);\n        this.accountActionCreator.initializeAccount();\n        this.kontokorrentHinzufuegenActionCreator.loginPageGeoeffnet();\n    }\n\n    private async loginFuerEvent() {\n        let event = this.eventInput.value;\n        this.eventMissingError.style.display = event ? \"none\" : \"block\";\n        if (event) {\n            if (await this.accountActionCreator.ensureAccount()) {\n                let id = await this.kontokorrentHinzufuegenActionCreator.kontokorrentHinzufuegen(event.toLowerCase());\n                if (id) {\n                    await this.routingActionCreator.navigateKontokorrentById(id);\n                };\n            }\n        }\n    }\n\n    private applyStoreState(state: State) {\n        this.accountCreationFailed.style.display = !state.account.accountCreating && state.account.accountCreationFailed ?\n            \"block\" : \"none\";\n        this.notFoundError.style.display = !state.kontokorrents.hinzufuegen && state.kontokorrents.hinzufuegenFailed && state.kontokorrents.hinzufuegenFailed.kontokorrentNotFound ?\n            \"block\" : \"none\";\n        let processing = state.kontokorrents.hinzufuegen || state.account.accountCreating;\n        this.processing.style.display = processing ? \"flex\" : \"none\";\n        this.homeButton.style.visibility = state.account.accountCreated &&\n            Object.keys(state.kontokorrents.kontokorrents).length ? \"visible\" : \"hidden\";\n        this.loginButton.style.display = !processing ? \"inline-flex\" : \"none\";\n    }\n\n    disconnectedCallback() {\n\n        this.subscription();\n    }\n}\n\ncustomElements.define('app-login', Login);","// Module\nvar code = \"<div class=\\\"login-error-box\\\"> <div id=\\\"eventMissingError\\\" class=\\\"alert alert--error\\\" style=\\\"display:none\\\">Kontokorrentnamen eingeben</div> <div id=\\\"notFoundError\\\" class=\\\"alert alert--error\\\" style=\\\"display:none\\\">Kontokorrent wurde nicht gefunden</div> <div id=\\\"account-creation-failed\\\" class=\\\"alert alert--error\\\" style=\\\"display:none\\\">Account konnte nicht erstellt werden</div> </div> <div class=\\\"login-box\\\" id=\\\"login-box\\\"> <div class=\\\"login-box__event-input\\\"> <input type=\\\"text\\\" id=\\\"eventInput\\\" placeholder=\\\"Kontokorrentname\\\"> <tip-button popup-id=\\\"oeffentlicherNameExplainer\\\" title=\\\"öffentlicher Name Erklärung\\\"> <span class=\\\"material-icons\\\"> info </span> </tip-button> <app-popup id=\\\"oeffentlicherNameExplainer\\\" class=\\\"tip tip--with-input\\\"> Gib hier den Namen des öffentlichen Kontokorrents ein. <ul> <li>frag die anderen Event-/Gruppen- Teilnehmer nach dem Namen</li> <li>such in eurem Chat</li> </ul> </app-popup> </div> <div> <button id=\\\"loginButton\\\" class=\\\"button button--raised login-box__login-button\\\"> Login </button> <div id=\\\"processing\\\" class=\\\"login-box__processing\\\" style=\\\"display:none\\\"> <span class=\\\"spinner\\\"></span> </div> </div> <a id=\\\"createEventButton\\\" class=\\\"button\\\" href=\\\"create-event\\\"> <span class=\\\"material-icons\\\"> add </span> Gruppe erstellen </a> <a id=\\\"home-button\\\" class=\\\"button\\\" href=\\\"\\\"> <span class=\\\"material-icons\\\"> home </span> zurück </a> </div>\";\n// Exports\nexport default code;","import { RoutingActionCreator } from \"../state/actions/RoutingActionCreator\";\n\nexport function convertLinks(elements: Array<HTMLAnchorElement> | NodeListOf<HTMLAnchorElement>, routingActionCreator: RoutingActionCreator) {\n    elements.forEach((e: HTMLAnchorElement) => {\n        e.addEventListener(\"click\", ev => {\n            ev.preventDefault();\n            routingActionCreator.navigate(e.getAttribute(\"href\"));\n        });\n    });\n}","export class Popup extends HTMLElement {\n    private popupShown: boolean = false;\n    constructor() {\n        super();\n        this.keyListener = this.keyListener.bind(this);\n        this.clickListener = this.clickListener.bind(this);\n    }\n\n    connectedCallback() {\n        this.updateStyles();\n    }\n\n    private keyListener(ev: KeyboardEvent) {\n        if (ev.key == \"Escape\") {\n            this.hide();\n        }\n    }\n\n    private clickListener(ev: MouseEvent | TouchEvent) {\n        if (!this.contains(<Element>(event.target))) {\n            this.hide();\n        }\n    }\n\n    public hide() {\n        if (this.popupShown) {\n            document.removeEventListener(\"keydown\", this.keyListener);\n            document.removeEventListener(\"click\", this.clickListener);\n            this.popupShown = false;\n            this.updateStyles();\n        }\n    }\n\n    public show() {\n        if (!this.popupShown) {\n            document.addEventListener(\"keydown\", this.keyListener);\n            document.addEventListener(\"click\", this.clickListener);\n            this.popupShown = true;\n            this.updateStyles();\n        }\n    }\n\n    private updateStyles() {\n        this.style.display = this.popupShown ? \"block\" : \"none\";\n    }\n\n    public toggle() {\n        if (!this.popupShown) {\n            this.show();\n        }\n        else {\n            this.hide();\n\n        }\n    }\n\n    disconnectedCallback() {\n        this.hide();\n    }\n}\ncustomElements.define(\"app-popup\", Popup);\n","import { Popup } from \"../popup/popup\";\n\nexport const PopupIdAttribute = \"popup-id\";\n\nexport class TipButton extends HTMLElement {\n    private popupId: string;\n    constructor() {\n        super();\n        this.clickListener = this.clickListener.bind(this);\n    }\n\n    attributeChangedCallback() {\n        this.updateAttributes();\n    }\n\n    private updateAttributes() {\n        this.popupId = this.getAttribute(PopupIdAttribute);\n\n    }\n\n    static get observedAttributes() {\n        return [PopupIdAttribute];\n    }\n\n    connectedCallback() {\n        this.addEventListener(\"click\", this.clickListener);\n    }\n\n    private clickListener(ev: MouseEvent) {\n        let popup: Popup = document.querySelector(`#${this.popupId}`);\n        popup.toggle();\n        ev.stopPropagation();\n    }\n\n\n    disconnectedCallback() {\n        this.removeEventListener(\"click\", this.clickListener);\n    }\n}\ncustomElements.define(\"tip-button\", TipButton);\n","import { ApiClient } from \"../../api/ApiClient\";\nimport { KontokorrentInfo } from \"../../api/KontokorrentInfo\";\nimport { NeuerKontokorrentRequest } from \"../../api/NeuerKontokorrentRequest\";\nimport { KontokorrentDatabase } from \"../../lib/KontokorrentDatabase\";\nimport { ServiceLocator } from \"../../ServiceLocator\";\nimport { Action } from \"../lib/Action\";\nimport { Store } from \"../Store\";\nimport { ActionNames } from \"./ActionNames\";\nimport { v4 as uuid } from \"uuid\";\n\nexport class KontokorrentCreationFailed implements Action {\n    readonly type = ActionNames.KontokorrentCreationFailed;\n    constructor(public exists: boolean) {\n\n    }\n}\n\nexport class KontokorrentCreating implements Action {\n    readonly type = ActionNames.KontokorrentCreating;\n    constructor() {\n\n    }\n}\n\nexport class KontokorrentCreated implements Action {\n    readonly type = ActionNames.KontokorrentCreated;\n    constructor(public kontokorrent: KontokorrentInfo) {\n\n    }\n}\n\nexport class KontokorrentHinzufuegenFailed implements Action {\n    readonly type = ActionNames.KontokorrentHinzufuegenFailed;\n    constructor(public notFound: boolean) {\n\n    }\n}\n\nexport class KontokorrentHinzufuegen implements Action {\n    readonly type = ActionNames.KontokorrentHinzufuegen;\n    constructor() {\n\n    }\n}\n\nexport class KontokorrentHinzufuegenSuccess implements Action {\n    readonly type = ActionNames.KontokorrentHinzufuegenSuccess;\n    constructor(public kontokorrents: KontokorrentInfo[]) {\n\n    }\n}\n\nexport class LoginPageGeoeffnet implements Action {\n    readonly type = ActionNames.LoginPageGeoeffnet;\n    constructor() {\n\n    }\n}\n\nexport class NichtGefundenPageGeoeffnet implements Action {\n    readonly type = ActionNames.NichtGefundenPageGeoeffnet;\n    constructor() {\n\n    }\n}\n\nexport type KontokorrentHinzufuegenActions = KontokorrentCreationFailed\n    | KontokorrentCreating\n    | KontokorrentCreated\n    | KontokorrentHinzufuegenFailed\n    | KontokorrentHinzufuegen\n    | KontokorrentHinzufuegenSuccess\n    | LoginPageGeoeffnet\n    | NichtGefundenPageGeoeffnet;\n\nexport class KontokorrentHinzufuegenActionCreator {\n\n    constructor(private store: Store,\n        private apiClient: ApiClient,\n        private db: KontokorrentDatabase) {\n\n    }\n\n    loginPageGeoeffnet() {\n        this.store.dispatch(new LoginPageGeoeffnet());\n    }\n\n    nichtGefundenPageGeoeffnet() {\n        this.store.dispatch(new NichtGefundenPageGeoeffnet());\n    }\n\n    async kontokorrentErstellen(id: string, name: string, oeffentlicherName: string, personen: string[]) {\n        let request: NeuerKontokorrentRequest = {\n            name,\n            id,\n            oeffentlicherName,\n            personen: personen.map(v => { return { name: v, id: uuid() } })\n        };\n        this.store.dispatch(new KontokorrentCreating());\n        let res = await this.apiClient.neuerKontokorrent(request);\n        if (!res.success) {\n            this.store.dispatch(new KontokorrentCreationFailed(res.exists));\n        }\n        else {\n            await this.db.addKontokorrent({\n                id: id,\n                name: name,\n                personen: request.personen,\n                oeffentlicherName: oeffentlicherName\n            });\n            this.store.dispatch(new KontokorrentCreated({\n                id: id,\n                name: name,\n                personen: request.personen,\n                oeffentlicherName: oeffentlicherName\n            }));\n            return true;\n        }\n        return false;\n    }\n\n    async kontokorrentHinzufuegen(oeffentlicherName: string) {\n        let kk = await this.db.getPerOeffentlichName(oeffentlicherName);\n        if (null != kk) {\n            return kk.id;\n        }\n        this.store.dispatch(new KontokorrentHinzufuegen());\n        try {\n            let res = await this.apiClient.kontokorrentHinzufuegen(oeffentlicherName, null);\n            if (null == res) {\n                this.store.dispatch(new KontokorrentHinzufuegenFailed(true));\n            }\n            else {\n                let newIds = await this.db.setKontokorrents(res.map(v => {\n                    return {\n                        id: v.id,\n                        name: v.name,\n                        personen: v.personen,\n                        oeffentlicherName: v.oeffentlicherName\n                    };\n                }));\n                this.store.dispatch(new KontokorrentHinzufuegenSuccess(res));\n                return newIds[0];\n            }\n        }\n        catch (err) {\n            this.store.dispatch(new KontokorrentHinzufuegenFailed(false));\n        }\n        return false;\n    }\n}\n\nexport function kontokorrentHinzufuegenActionCreatorFactory(serviceLocator: ServiceLocator) {\n    return serviceLocator.get(\"KontokorrentHinzufuegenActionCreator\",\n        serviceLocator => new KontokorrentHinzufuegenActionCreator(\n            serviceLocator.store,\n            serviceLocator.apiClient,\n            serviceLocator.db\n        ));\n}"],"names":["Login","HTMLElement","constructor","super","rendered","addServices","serviceLocator","this","store","routingActionCreator","accountActionCreator","kontokorrentHinzufuegenActionCreator","connectedCallback","innerHTML","loginButton","querySelector","homeButton","loginBox","eventMissingError","accountCreationFailed","notFoundError","processing","eventInput","searchParams","URLSearchParams","window","location","search","has","value","get","convertLinks","querySelectorAll","addEventListener","loginFuerEvent","bind","subscription","subscribe","state","applyStoreState","initializeAccount","loginPageGeoeffnet","event","style","display","ensureAccount","id","kontokorrentHinzufuegen","toLowerCase","navigateKontokorrentById","account","accountCreating","kontokorrents","hinzufuegen","hinzufuegenFailed","kontokorrentNotFound","visibility","accountCreated","Object","keys","length","disconnectedCallback","customElements","define","elements","forEach","e","ev","preventDefault","navigate","getAttribute","Popup","popupShown","keyListener","clickListener","updateStyles","key","hide","contains","target","document","removeEventListener","show","toggle","PopupIdAttribute","TipButton","attributeChangedCallback","updateAttributes","popupId","stopPropagation","KontokorrentCreationFailed","exists","type","KontokorrentCreating","KontokorrentCreated","kontokorrent","KontokorrentHinzufuegenFailed","notFound","KontokorrentHinzufuegen","KontokorrentHinzufuegenSuccess","LoginPageGeoeffnet","NichtGefundenPageGeoeffnet","KontokorrentHinzufuegenActionCreator","apiClient","db","dispatch","nichtGefundenPageGeoeffnet","name","oeffentlicherName","personen","request","map","v","res","neuerKontokorrent","success","addKontokorrent","kk","getPerOeffentlichName","newIds","setKontokorrents","err","kontokorrentHinzufuegenActionCreatorFactory"],"sourceRoot":""}