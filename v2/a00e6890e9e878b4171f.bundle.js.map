{"version":3,"file":"a00e6890e9e878b4171f.bundle.js","mappings":"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","sources":["webpack://kontokorrent/./node_modules/date-fns/esm/_lib/requiredArgs/index.js","webpack://kontokorrent/./node_modules/date-fns/esm/endOfDay/index.js","webpack://kontokorrent/./node_modules/date-fns/esm/isSameDay/index.js","webpack://kontokorrent/./node_modules/date-fns/esm/startOfDay/index.js","webpack://kontokorrent/./node_modules/date-fns/esm/toDate/index.js","webpack://kontokorrent/./src/components/BezahlungPage/BezahlungPage.html","webpack://kontokorrent/./src/components/BezahlungPage/BezahlungPage.ts","webpack://kontokorrent/./src/components/Spinner/Spinner.ts","webpack://kontokorrent/./src/components/Spinner/Spinner.html","webpack://kontokorrent/./src/utils/Debouncer.ts","webpack://kontokorrent/./node_modules/core-js/modules/web.url.to-json.js"],"sourcesContent":["export default function requiredArgs(required, args) {\n  if (args.length < required) {\n    throw new TypeError(required + ' argument' + (required > 1 ? 's' : '') + ' required, but only ' + args.length + ' present');\n  }\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name endOfDay\n * @category Day Helpers\n * @summary Return the end of a day for the given date.\n *\n * @description\n * Return the end of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the end of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The end of a day for 2 September 2014 11:55:00:\n * const result = endOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 23:59:59.999\n */\n\nexport default function endOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(23, 59, 59, 999);\n  return date;\n}","import startOfDay from \"../startOfDay/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name isSameDay\n * @category Day Helpers\n * @summary Are the given dates in the same day?\n *\n * @description\n * Are the given dates in the same day?\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} dateLeft - the first date to check\n * @param {Date|Number} dateRight - the second date to check\n * @returns {Boolean} the dates are in the same day\n * @throws {TypeError} 2 arguments required\n *\n * @example\n * // Are 4 September 06:00:00 and 4 September 18:00:00 in the same day?\n * var result = isSameDay(new Date(2014, 8, 4, 6, 0), new Date(2014, 8, 4, 18, 0))\n * //=> true\n */\n\nexport default function isSameDay(dirtyDateLeft, dirtyDateRight) {\n  requiredArgs(2, arguments);\n  var dateLeftStartOfDay = startOfDay(dirtyDateLeft);\n  var dateRightStartOfDay = startOfDay(dirtyDateRight);\n  return dateLeftStartOfDay.getTime() === dateRightStartOfDay.getTime();\n}","import toDate from \"../toDate/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * @param {Date|Number} date - the original date\n * @returns {Date} the start of a day\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\n\nexport default function startOfDay(dirtyDate) {\n  requiredArgs(1, arguments);\n  var date = toDate(dirtyDate);\n  date.setHours(0, 0, 0, 0);\n  return date;\n}","import requiredArgs from \"../_lib/requiredArgs/index.js\";\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @param {Date|Number} argument - the value to convert\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\n\nexport default function toDate(argument) {\n  requiredArgs(1, arguments);\n  var argStr = Object.prototype.toString.call(argument); // Clone the date\n\n  if (argument instanceof Date || typeof argument === 'object' && argStr === '[object Date]') {\n    // Prevent the date to lose the milliseconds when passed to new Date() in IE10\n    return new Date(argument.getTime());\n  } else if (typeof argument === 'number' || argStr === '[object Number]') {\n    return new Date(argument);\n  } else {\n    if ((typeof argument === 'string' || argStr === '[object String]') && typeof console !== 'undefined') {\n      // eslint-disable-next-line no-console\n      console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\"); // eslint-disable-next-line no-console\n\n      console.warn(new Error().stack);\n    }\n\n    return new Date(NaN);\n  }\n}","// Module\nvar code = \"<app-bar></app-bar> <div id=\\\"bezahlung__edit\\\" class=\\\"bezahlung__edit\\\"> <div class=\\\"bezahlung-page-menu\\\"> <a id=\\\"zurueck-zum-kontokorrent\\\" class=\\\"button\\\"> <span class=\\\"material-icons\\\"> arrow_back </span> zurück </a> <button class=\\\"button\\\" title=\\\"speichern\\\" id=\\\"bezahlung__delete\\\"> <span class=\\\"material-icons\\\"> delete </span> löschen </button> <button class=\\\"button\\\" title=\\\"speichern\\\" id=\\\"bezahlung__update\\\"> <span class=\\\"material-icons\\\"> save </span> speichern </button> </div> <div class=\\\"bezahlung__form-container\\\" id=\\\"bezahlung__form-container\\\"> <div id=\\\"update-error\\\" class=\\\"alert alert--error\\\" hidden> Zahlung konnte nicht bearbeitet werden. </div> <div id=\\\"delete-error\\\" class=\\\"alert alert--error\\\" hidden> Zahlung konnte nicht bearbeitet werden. </div> <div id=\\\"bezahlung-nicht-gefunden-error\\\" class=\\\"alert alert--error\\\" hidden> Zahlung konnte nicht gefunden werden. </div> <div id=\\\"bezahlung-zwischengespeichert-error\\\" class=\\\"alert alert--error\\\" hidden> Zahlung kann nicht geöffnet werden, weil sie noch synchronisiert wird. </div> <div id=\\\"bezahlung-geloescht-error\\\" class=\\\"alert alert--error\\\" hidden> Zahlung kann nicht verändert werden, weil sie gelöscht wurde. </div> <div id=\\\"bezahlung-bearbeitet-error\\\" class=\\\"alert alert--error\\\" hidden> Zahlung kann nicht verändert werden, weil sie bereits bearbeitet wurde. </div> <bezahlung-eintragen-form> </bezahlung-eintragen-form> </div> </div> <div class=\\\"bezahlung__progress\\\" id=\\\"bezahlung__updating\\\"> <app-spinner></app-spinner> <span>wird gespeichert</span> </div> <div class=\\\"bezahlung__progress\\\" id=\\\"bezahlung__deleting\\\"> <app-spinner></app-spinner> <span>wird gelöscht</span> </div> <app-popup id=\\\"update-dialog\\\"> <div class=\\\"dialog__backdrop\\\"></div> <div class=\\\"dialog\\\"> <p class=\\\"dialog__question\\\"> Geänderte Bezahlung speichern? </p> <div class=\\\"dialog__button-pane\\\"> <button id=\\\"abort-update\\\" class=\\\"button\\\">Abbrechen</button> <button id=\\\"confirm-update\\\" class=\\\"button\\\">Speichern</button> </div> </div> </app-popup> <app-popup id=\\\"delete-dialog\\\"> <div class=\\\"dialog__backdrop\\\"></div> <div class=\\\"dialog\\\"> <p class=\\\"dialog__question\\\"> Bezahlung löschen? </p> <div class=\\\"dialog__button-pane\\\"> <button id=\\\"abort-delete\\\" class=\\\"button\\\">Abbrechen</button> <button id=\\\"confirm-delete\\\" class=\\\"button\\\">Löschen</button> </div> </div> </app-popup>\";\n// Exports\nexport default code;","import template from \"./BezahlungPage.html\";\nimport { Store } from \"../../state/Store\";\nimport { ServiceLocator } from \"../../ServiceLocator\";\nimport { RoutingActionCreator, routingActionCreatorFactory } from \"../../state/actions/RoutingActionCreator\";\nimport { AppBar, AppBarTagName } from \"../AppBar/AppBar\";\nimport \"./BezahlungPage.scss\";\nimport { BezahlungActionCreator, bezahlungActionCreatorFactory } from \"../../state/actions/BezahlungActionCreator\";\nimport { RequestStatus, State } from \"../../state/State\";\nimport { convertLinks } from \"../convertLinks\";\nimport \"../BezahlungEintragenForm/BezahlungEintragenForm\";\nimport { BezahlungEintragenForm, BezahlungEintragenFormTagName } from \"../BezahlungEintragenForm/BezahlungEintragenForm\";\nimport { Debouncer } from \"../../utils/Debouncer\";\nimport { BearbeitungsStatus } from \"../../lib/BearbeitungsStatus\";\nimport { Popup } from \"../ui-components/popup/popup\";\nimport \"../Spinner/Spinner\";\n\nexport class BezahlungPage extends HTMLElement {\n    private store: Store;\n    private kontokorrentsSubscription: () => void;\n    private routingActionCreator: RoutingActionCreator;\n    private appBar: AppBar;\n    private bezahlungActionCreator: BezahlungActionCreator;\n    private zurueckLink: HTMLAnchorElement;\n    private bezahlungEintragenForm: BezahlungEintragenForm;\n    private editingSection: HTMLDivElement;\n    private updatingSection: HTMLDivElement;\n    private deletingSection: HTMLDivElement;\n    private formContainer: HTMLDivElement;\n    private beschreibungVorschlagSubscription: () => void;\n    private betreffVorschlagDebouncer = new Debouncer();\n    private bezahlungIdParameter: string;\n    private bezahlungNichtGefundenError: HTMLDivElement;\n    private bezahlungZwischengespeichertError: HTMLDivElement;\n    private bezahlungGeloeschtError: HTMLDivElement;\n    private bezahlungBearbeitetError: HTMLDivElement;\n    private updateButton: HTMLButtonElement;\n    private deleteButton: HTMLButtonElement;\n    private dataLoaded: boolean = false;\n    private updateDialog: Popup;\n    private deleteDialog: Popup;\n    private updateError: HTMLDivElement;\n    private deleteError: HTMLDivElement;\n    private activeKontokorrentId: string;\n    private rendered = false;\n    private serviceLocator: ServiceLocator;\n\n    constructor() {\n        super();\n\n    }\n\n    addServices(serviceLocator: ServiceLocator) {\n        this.store = serviceLocator.store;\n        this.routingActionCreator = routingActionCreatorFactory(serviceLocator);\n        this.bezahlungActionCreator = bezahlungActionCreatorFactory(serviceLocator);\n        this.serviceLocator = serviceLocator;\n    }\n\n    connectedCallback() {\n        if (!this.rendered) {\n            this.rendered = true;\n            this.innerHTML = template;\n            this.zurueckLink = this.querySelector(\"#zurueck-zum-kontokorrent\");\n            this.appBar = this.querySelector(AppBarTagName);\n            this.appBar.addServices(this.serviceLocator);\n            this.bezahlungEintragenForm = this.querySelector(BezahlungEintragenFormTagName);\n            this.bezahlungNichtGefundenError = this.querySelector(\"#bezahlung-nicht-gefunden-error\");\n            this.bezahlungZwischengespeichertError = this.querySelector(\"#bezahlung-zwischengespeichert-error\");\n            this.bezahlungGeloeschtError = this.querySelector(\"#bezahlung-geloescht-error\");\n            this.bezahlungBearbeitetError = this.querySelector(\"#bezahlung-bearbeitet-error\");\n            this.updateButton = this.querySelector(\"#bezahlung__update\");\n            this.deleteButton = this.querySelector(\"#bezahlung__delete\");\n            this.editingSection = this.querySelector(\"#bezahlung__edit\");\n            this.updatingSection = this.querySelector(\"#bezahlung__updating\");\n            this.deletingSection = this.querySelector(\"#bezahlung__deleting\");\n            this.updateError = this.querySelector(\"#update-error\");\n            this.deleteError = this.querySelector(\"#delete-error\");\n            this.formContainer = this.querySelector(\"#bezahlung__form-container\");\n        }\n        this.kontokorrentsSubscription = this.store.subscribe(\"kontokorrents\", s => this.applyStoreState(s));\n        this.beschreibungVorschlagSubscription = this.store.subscribe(\"beschreibungVorschlaege\", s => this.beschreibungVorschlaegeChanged(s));\n        this.appBar.addEventListener(\"gotokontokorrent\", async (e: CustomEvent) => {\n            await this.routingActionCreator.navigateKontokorrentById(e.detail);\n        });\n        convertLinks([this.zurueckLink], this.routingActionCreator);\n        this.beschreibungVorschlaegeChanged(this.store.state);\n        this.bezahlungEintragenForm.addEventListener(\"betreffChanged\", (ev: CustomEvent) => this.betreffChanged(ev.detail));\n        this.updateDialog = this.querySelector(\"#update-dialog\");\n        this.deleteDialog = this.querySelector(\"#delete-dialog\");\n        this.querySelector(\"#bezahlung__update\").addEventListener(\"click\", (e: MouseEvent) => {\n            if (this.bezahlungEintragenForm.validate()) {\n                this.updateDialog.show();\n            }\n            else {\n                this.formContainer.scroll({ top: 0, behavior: \"smooth\" });\n            }\n            e.stopPropagation();\n        });\n        this.querySelector(\"#confirm-update\").addEventListener(\"click\", async () => {\n            this.updateDialog.hide();\n            let data = this.bezahlungEintragenForm.getData();\n            await this.bezahlungActionCreator.bezahlungBearbeiten(this.activeKontokorrentId, this.bezahlungIdParameter, data);\n            await this.routingActionCreator.navigateKontokorrentById(this.activeKontokorrentId);\n        });\n        this.querySelector(\"#abort-update\").addEventListener(\"click\", () => {\n            this.updateDialog.hide();\n        });\n        this.querySelector(\"#bezahlung__delete\").addEventListener(\"click\", (e: MouseEvent) => {\n            this.deleteDialog.show();\n            e.stopPropagation();\n        });\n        this.querySelector(\"#confirm-delete\").addEventListener(\"click\", async () => {\n            this.deleteDialog.hide();\n            await this.bezahlungActionCreator.bezahlungLoeschen(this.activeKontokorrentId, this.bezahlungIdParameter);\n            await this.routingActionCreator.navigateKontokorrentById(this.activeKontokorrentId);\n        });\n        this.querySelector(\"#abort-delete\").addEventListener(\"click\", () => {\n            this.deleteDialog.hide();\n        });\n    }\n    private async betreffChanged(betreff: string) {\n        try {\n            await this.betreffVorschlagDebouncer.trigger(200);\n        }\n        catch (err) {\n            //aborted\n        }\n        this.bezahlungActionCreator.getBeschreibungVorschlaege(this.activeKontokorrentId, betreff);\n    }\n    private beschreibungVorschlaegeChanged(s: State): void {\n        if (s.beschreibungVorschlaege?.kontokorrentId == this.activeKontokorrentId) {\n            this.bezahlungEintragenForm.beschreibungVorschlaege = s.beschreibungVorschlaege.vorschlaege.slice(0, 10);\n        }\n        else {\n            this.bezahlungEintragenForm.beschreibungVorschlaege = [];\n        }\n    }\n\n    private applyStoreState(s: State) {\n        let editable = false;\n        let updating = false;\n        let deleting = false;\n        let updateError = false;\n        let deleteError = false;\n        if (s.kontokorrents.activeKontokorrentId && this.bezahlungIdParameter) {\n            this.activeKontokorrentId = s.kontokorrents.activeKontokorrentId;\n            let kontokorrent = s.kontokorrents.kontokorrents[s.kontokorrents.activeKontokorrentId];\n            if (kontokorrent) {\n                this.bezahlungEintragenForm.personen = kontokorrent.personen;\n                let angezeigteBezahlung = kontokorrent.angezeigteBezahlung[this.bezahlungIdParameter];\n                if (angezeigteBezahlung) {\n                    this.bezahlungNichtGefundenError.hidden = angezeigteBezahlung.bearbeitungsStatus != BearbeitungsStatus.NichtGefunden;\n                    this.bezahlungZwischengespeichertError.hidden = angezeigteBezahlung.bearbeitungsStatus != BearbeitungsStatus.Zwischengespeichert;\n                    this.bezahlungGeloeschtError.hidden = angezeigteBezahlung.bearbeitungsStatus != BearbeitungsStatus.Geloescht;\n                    this.bezahlungBearbeitetError.hidden = angezeigteBezahlung.bearbeitungsStatus != BearbeitungsStatus.Bearbeitet;\n                    editable = angezeigteBezahlung.bearbeitungsStatus == BearbeitungsStatus.Bearbeitbar;\n                    updating = angezeigteBezahlung.updateStatus == RequestStatus.InProgress;\n                    updateError = angezeigteBezahlung.updateStatus == RequestStatus.Failed;\n                    deleting = angezeigteBezahlung.deleteStatus == RequestStatus.InProgress;\n                    deleteError = angezeigteBezahlung.deleteStatus == RequestStatus.Failed;\n                }\n                let bezahlungData = kontokorrent.bezahlungen.find(b => b.id == this.bezahlungIdParameter);\n                if (kontokorrent.personen && kontokorrent.personen.length > 0\n                    && bezahlungData && !this.dataLoaded) {\n                    this.dataLoaded = true;\n                    this.bezahlungEintragenForm.setData(bezahlungData);\n                }\n            }\n            this.zurueckLink.href = `kontokorrents/o/${kontokorrent.oeffentlicherName}`;\n        }\n        this.updateButton.style.visibility = editable ? \"visible\" : \"collapse\";\n        this.deleteButton.style.visibility = editable ? \"visible\" : \"collapse\";\n        this.updatingSection.style.display = updating ? \"\" : \"none\";\n        this.deletingSection.style.display = deleting ? \"\" : \"none\";\n        this.editingSection.style.display = (updating || deleting) ? \"none\" : \"\";\n        this.bezahlungEintragenForm.style.display = editable ? \"\" : \"none\";\n        this.updateError.hidden = !updateError;\n        this.deleteError.hidden = !deleteError;\n    }\n\n    setRouteParameters(oeffentlicherName: string, bezahlungId: string) {\n        this.bezahlungIdParameter = bezahlungId;\n        this.bezahlungActionCreator.bezahlungGeoeffnet(oeffentlicherName, bezahlungId);\n    }\n\n    disconnectedCallback() {\n        this.kontokorrentsSubscription();\n        this.beschreibungVorschlagSubscription();\n    }\n}\n\ncustomElements.define('bezahlung-page', BezahlungPage);\n","import template from \"./Spinner.html\";\n\nexport class Spinner extends HTMLElement {\n\n    constructor() {\n        super();\n        let shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.innerHTML = template;\n    }\n\n    connectedCallback() {\n\n    }\n\n    disconnectedCallback() {\n\n    }\n}\n\ncustomElements.define(\"app-spinner\", Spinner);\n","// Module\nvar code = \"<style>.spinner{animation:rotate 2s linear infinite;height:100%}.spinner .path{stroke:var(--spinner-color);stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}</style> <svg class=\\\"spinner\\\" viewBox=\\\"0 0 50 50\\\"> <circle class=\\\"path\\\" cx=\\\"25\\\" cy=\\\"25\\\" r=\\\"20\\\" fill=\\\"none\\\" stroke-width=\\\"4\\\"></circle> </svg>\";\n// Exports\nexport default code;","export class Debouncer {\n    private abort: () => void;\n    constructor() {\n    }\n\n    private timeout(ms: number): Promise<void> {\n        return new Promise((resolve) => {\n            setTimeout(() => {\n                resolve();\n            }, ms);\n        });\n    }\n\n    private aborter() {\n        let status = {\n            aborted: false,\n            promise: <Promise<void>>null\n        };\n        let promise = new Promise<void>((resolve, reject) => {\n            this.abort = () => {\n                status.aborted = false;\n                reject();\n            };\n        });\n        status.promise = promise;\n        return status;\n    }\n\n    async trigger(ms: number): Promise<void> {\n        if (this.abort) {\n            this.abort();\n        }\n        let status = this.aborter();\n        try {\n            await Promise.race([this.timeout(ms), status.promise]);\n        }\n        catch(err) {\n            throw new Error(\"aborted\");\n        }\n    }\n}\n","'use strict';\nvar $ = require('../internals/export');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return URL.prototype.toString.call(this);\n  }\n});\n"],"names":["requiredArgs","required","args","length","TypeError","endOfDay","dirtyDate","arguments","date","toDate","setHours","isSameDay","dirtyDateLeft","dirtyDateRight","dateLeftStartOfDay","startOfDay","dateRightStartOfDay","getTime","argument","argStr","Object","prototype","toString","call","Date","console","warn","Error","stack","NaN","BezahlungPage","HTMLElement","constructor","super","betreffVorschlagDebouncer","Debouncer","dataLoaded","rendered","addServices","serviceLocator","this","store","routingActionCreator","bezahlungActionCreator","connectedCallback","innerHTML","zurueckLink","querySelector","appBar","AppBar","bezahlungEintragenForm","BezahlungEintragenForm","bezahlungNichtGefundenError","bezahlungZwischengespeichertError","bezahlungGeloeschtError","bezahlungBearbeitetError","updateButton","deleteButton","editingSection","updatingSection","deletingSection","updateError","deleteError","formContainer","kontokorrentsSubscription","subscribe","s","applyStoreState","beschreibungVorschlagSubscription","beschreibungVorschlaegeChanged","addEventListener","async","navigateKontokorrentById","e","detail","convertLinks","state","ev","betreffChanged","updateDialog","deleteDialog","validate","show","scroll","top","behavior","stopPropagation","hide","data","getData","bezahlungBearbeiten","activeKontokorrentId","bezahlungIdParameter","bezahlungLoeschen","betreff","trigger","err","getBeschreibungVorschlaege","beschreibungVorschlaege","kontokorrentId","vorschlaege","slice","editable","updating","deleting","kontokorrents","kontokorrent","personen","angezeigteBezahlung","hidden","bearbeitungsStatus","updateStatus","deleteStatus","bezahlungData","bezahlungen","find","b","id","setData","href","oeffentlicherName","style","visibility","display","setRouteParameters","bezahlungId","bezahlungGeoeffnet","disconnectedCallback","customElements","define","Spinner","attachShadow","mode","timeout","ms","Promise","resolve","setTimeout","aborter","status","aborted","promise","reject","abort","race","$","target","proto","enumerable","toJSON","URL"],"sourceRoot":""}